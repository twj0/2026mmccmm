---
description: MCM/ICM 建模比赛工作流（配合 /spec 使用）：从题面与数据政策→数据审计→baseline→炫技模块→验证与区间→论文交付。
---

steps:
  - step: "Kickoff: 题目约束与分工"
    instruction: |
      1. 确认题目类型：**默认选择 Problem C（数据分析/统计建模）**。
      2. 明确分工与并行输出：
         - 建模手：任务拆解 + 指标/目标 + 方法路线 + 区间/稳健性计划。
         - 代码手：数据读取/清洗/特征/训练/验证/出图流水线。
         - 论文手：先搭目录与图表占位，再填内容。
      3. 默认技术栈约束：
         - 语言：Python
         - 包管理：uv
      4. 若需要工程化落地，建议同时启用 /spec：用 docs/spec/task.md 记录“本次要交付什么”。

  - step: "Data Policy Gate: 是否允许外生数据"
    instruction: |
      1. 在题面中全文搜索以下触发句：
         - "ONLY DATA" / "THE DATA ... ONLY"（类似表达）
         - "You may choose to include additional ... data"（类似表达）
      2. 结论只允许三种：
         - 禁止外生数据（只能用附件数据集做建模输入）。
         - 允许但非必须（外部信息仅作背景/解释或少量特征）。
         - 允许且可能需要（题面明确要求补充来源）。
      3. 把结论写进报告的 Data/Assumptions 段落（必须）。

  - step: "Data Audit: 数据盘点与风险清单"
    instruction: |
      1. 列出所有附件数据：文件名、格式、行列数、时间范围、关键字段。
      2. 做最小数据关系图：主键/外键/时间轴/分组字段。
      3. 输出“数据风险清单”（必须）：
         - 风险点 → 影响 → 处理策略（删除/插补/截断/重定义/保留并解释）。
      4. 默认产物目录约定（便于代码/论文协作）：
         - 原始数据：data/raw/
         - 清洗数据：data/processed/
         - 图：outputs/figures/
         - 表：outputs/tables/
         - 预测与区间：outputs/predictions/

  - step: "Baseline First: 先跑通再升级"
    instruction: |
      1. 用最简单可解释模型先跑通每个子问（baseline）。
      2. 给出最小验证：train/test 或 rolling（按题型）。
      3. 产出最少 1 张关键结果图 + 1 张数据质量图。

  - step: "Showtime: 选择 1-2 个炫技模块（可验收）"
    instruction: |
      从下面选择 1-2 个（不要全上）：
      1. 变化点/态势切换检测（动量/事件序列/交易等）。
      2. 分层/部分池化（国家/选手/地区/产品分组且样本不均衡）。
      3. 概率校准（输出概率/风险/分布时）。
      4. 分布无关预测区间（conformal/ensemble interval）。

      对每个“炫技模块”强制验收：
      - 至少多产出 1 张图 或 1 张表 或 1 个区间。
      - 论文里能用一句话解释“为什么对决策有用”。

  - step: "Uncertainty & Robustness: 区间 + 稳健性"
    instruction: |
      1. 至少给一种区间：预测区间/性能指标区间/参数区间（择一）。
      2. 至少做两类稳健性：
         - 切分策略变化（不同窗口/seed）。
         - 特征消融/关键超参敏感性。
      3. 报告中必须解释：不确定性来源是什么、区间如何解读。

  - step: "Write Early: 先搭架子再填内容"
    instruction: |
      1. 先写目录与小标题：每个子问对应一节。
      2. Summary Sheet（1 页）固定要素：任务一句话 + 方法概览 + 3 条发现（带数字/区间）+ 3 条建议。
      3. Memo/Letter（1-2 页）结构：先结论后证据，最后给行动建议+风险。

  - step: "Final QA: 交付检查"
    instruction: |
      最终提交前逐条打勾：
      1. 外生数据政策是否写清且与题面一致。
      2. 是否存在信息泄露（用到未来数据/随机打乱时间序列等）。
      3. 是否 baseline + 改进版 + 区间 + 稳健性证据齐全。
      4. 图表是否可独立阅读（标题、轴、单位、来源）。
      5. Summary 与 Memo 是否“脱离正文也能读懂”。
